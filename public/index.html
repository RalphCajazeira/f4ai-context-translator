<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>F4 AI Context Translator</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header>
      <h1>F4 AI Context Translator</h1>
      <div class="langs">
        <select id="src">
          <option value="en" selected>InglÃªs</option>
          <option value="pt">PortuguÃªs</option>
          <option value="es">Espanhol</option>
          <option value="fr">FrancÃªs</option>
        </select>
        <span>â†’</span>
        <select id="tgt">
          <option value="pt" selected>PortuguÃªs</option>
          <option value="en">InglÃªs</option>
          <option value="es">Espanhol</option>
          <option value="fr">FrancÃªs</option>
        </select>
        <button id="swap">â†”</button>
      </div>
    </header>

    <main class="grid">
      <section class="panel">
        <h3>Texto original</h3>
        <textarea
          id="source"
          placeholder="Cole aqui o texto do mod..."
        ></textarea>
        <div class="actions">
          <button id="btnTranslate">Traduzir</button>
          <label class="keep-lines">
            <input type="checkbox" id="preserveLines" checked />
            Preservar quebras de linha
          </label>
          <button id="btnApprove" title="Salvar par fonteâ†’alvo na memÃ³ria">
            Aprovar na MemÃ³ria
          </button>
        </div>
      </section>

      <section class="panel">
        <h3>TraduÃ§Ã£o</h3>
        <textarea id="target" placeholder="TraduÃ§Ã£o (editÃ¡vel)"></textarea>

        <!-- barra de ferramentas -->
        <div class="toolbar">
          <button title="Copiar texto" id="btnCopy">ğŸ“‹</button>
          <button title="MAIÃšSCULO" id="btnUpper">ğŸ…°</button>
          <button title="minÃºsculo" id="btnLower">ğŸ”¡</button>
          <button title="Primeira letra de cada palavra" id="btnCapWords">
            ğŸ…¿
          </button>
          <button title="Primeira letra da frase" id="btnCapSentence">
            ğŸ“
          </button>
        </div>

        <div>
          <h4>Alternativas</h4>
          <ul id="alts"></ul>
        </div>
      </section>

      <aside class="panel side">
        <h3>GlossÃ¡rio (dicionÃ¡rio prÃ³prio)</h3>
        <p>
          Ex.: <b>Plot â†’ Terreno</b>,
          <b>Tutorial Message History â†’ HistÃ³rico de Mensagens do Tutorial</b>
        </p>
        <form id="glossForm">
          <input name="term_source" placeholder="termo EN" required />
          <input name="term_target" placeholder="termo PT" required />
          <button>Adicionar</button>
        </form>
        <div id="glossList" class="gloss-list"></div>
      </aside>

      <!-- LINHA DE LOGS: Pendentes (esquerda) | Aprovados (direita/ TM) -->
      <section class="logs-row">
        <section class="panel log">
          <h3>Log de TraduÃ§Ãµes â€” Pendentes</h3>
          <ul id="logPending"></ul>
        </section>

        <section class="panel log">
          <h3>Log de TraduÃ§Ãµes â€” Aprovados (MemÃ³ria)</h3>
          <ul id="logApproved"></ul>
        </section>
      </section>
    </main>

    <footer>
      <small
        >Backends: <b>Ollama LLM</b> (context-aware) â€¢ Fallback:
        <b>M2M100</b></small
      >
    </footer>

    <script src="/app.js"></script>
  </body>
</html>
